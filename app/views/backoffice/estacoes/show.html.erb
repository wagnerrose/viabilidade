<!-- carregamento inteligente dos CSS e JAVASCRIPTS  -->
<% content_for :head do %>
  <%= stylesheet_link_tag "#{params[:controller]}" %>
  <%= javascript_include_tag "#{params[:controller]}" %>
<% end %>

<%- model_class_estacao = Estacao -%>
<%- model_class_eqto = Equipamento -%>
<%- model_class_circuito = Circuito -%>

<!-- Page Content -->
<div id="page-wrapper">
  <div class="container-fluid">
      <div class="row" style="margin-right: -120px;">
        <div class="col-lg-2">
          <div>
            <%= link_to t('.back', :default => t("helpers.links.back")),
            estacoes_path, :class => 'btn botao btn-sm btn-block'  %>
          </div>
          <div>
            <%= link_to t('.edit', :default => t("helpers.links.edit")),
            edit_estacao_path(@estacao), :class => 'btn botao btn-sm btn-block' %>
          </div>
          <div>
            <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
            estacao_path(@estacao),
            :method => 'delete',
            :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
            :class => 'btn botaoApaga btn-sm btn-block' %>
          </div>
        </div><!-- quadroBotoes -->

        <div class="col-lg-8"><!-- quadro estacao -->
              <div class="panel panel-info">
                <div class="panel-heading">
                  <center><h3 >
                    <%=t '.title', :default => model_class_estacao.model_name.human.titleize %>
                -     <%= @estacao.pop %>
                  </h3></center>
                </div>
                <dl class="dl-horizontal" style="margin: 10px; font-size: 16px;" >
                  <dt ><%= model_class_estacao.human_attribute_name(:nome) %>: </dt>
                  <dd ><%= @estacao.nome %></dd>
                  <dt ><%= model_class_estacao.human_attribute_name(:endereco) %>: </dt>
                  <dd ><%=  @estacao.endereco %></dd>

                  <dt ><%= model_class_estacao.human_attribute_name(:uf) %>:</dt>
                  <dd><%= @estacao.uf %></dd>
                  <dt ><%= model_class_estacao.human_attribute_name(:cidade) %>: </dt>
                  <dd ><%= @estacao.cidade %></dd>


                  <dt><%= model_class_estacao.human_attribute_name(:statusEstacao) %>: </dt>
                  <dd><%= @estacao.statusEstacao %></dd>
                  <dt><%= model_class_estacao.human_attribute_name(:cedente) %>: </dt>
                  <dd><%= @estacao.cedente %></dd>
                  <dt><%= model_class_estacao.human_attribute_name(:tipoEstacao) %>: </dt>
                  <dd><%= @estacao.tipoEstacao %></dd>

                  <dt><%= model_class_estacao.human_attribute_name(:latitude) %>: </dt>
                  <dd><%= number_with_precision(@estacao.latitude, precision: 10, separator: ',' , locale: 'pt-BR') %></dd>
                  <dt><%= model_class_estacao.human_attribute_name(:longitude) %>: </dt>
                  <dd><%= number_with_precision(@estacao.longitude, precision: 10, separator: ',' , locale: 'pt-BR') %></dd>
                </dl>
                </div><!-- quadro dados -->
              </div><!-- quadro estacao -->
          </div> <!-- div quadro superior -->


        <div class="row " style="margin-right: -120px;">
          <div class="list-group">
            <h1 class="list-group-item-heading list-group-item-success">
              <center><%=t '.title', :default => model_class_eqto.model_name.human.pluralize.titleize %></center>
            </h1>
          </div> <!-- list-group-->

          <div>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th><%= model_class_eqto.human_attribute_name(:designacao) %></th>
                  <th><%= model_class_eqto.human_attribute_name(:descricao) %></th>
                  <th><%= model_class_eqto.human_attribute_name(:tipoEquipamento) %></th>
                  <th><%= model_class_eqto.human_attribute_name(:enderecamento) %></th>
                  <th><%= model_class_eqto.human_attribute_name(:firmware) %></th>
                  <th><%= model_class_eqto.human_attribute_name(:statusEquipamento) %></th>
                </tr>
              </thead>
              <tbody>
                <% @equipamentos.each do |equipamento| %>
                <tr>
                  <td><%= link_to equipamento.designacao, equipamento_path(equipamento), :title => "Detalhar" %></td>
                  <td><%= equipamento.descricao %></td>
                  <td><%= equipamento.tipoEquipamento %></td>
                  <td><%= equipamento.enderecamento %></td>
                  <td><%= equipamento.firmware %></td>
                  <td><%= equipamento.statusEquipamento %></td>
                </tr>
                <% end %>
              </tbody>
            </table>
          </div>

        <div class="row " style="margin-right: -120px;">
          <div class="list-group">
            <h1 class="list-group-item-heading list-group-item-success">
              <center><%=t '.title', :default => model_class_circuito.model_name.human.pluralize.titleize %></center>
            </h1>
          </div> <!-- list-group-->

          <div>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th><%= model_class_circuito.human_attribute_name(:designacao) %></th>
                  <th><%= model_class_circuito.human_attribute_name(:pta) %></th>
                  <th><%= model_class_circuito.human_attribute_name(:municipio) %></th>
                  <th><%= model_class_circuito.human_attribute_name(:uf) %></th>
                  <th><%= model_class_circuito.human_attribute_name(:status) %></th>
                </tr>
              </thead>
              <tbody>
                <% @circuitoDados.each do |circuitoDados| %>
                <tr>
                  <td><%= circuitoDados.circuito.designacao %></td>
                  <td><%= circuitoDados.conv_pta %></td>
                  <td><%= circuitoDados.municipio %></td>
                  <td><%= circuitoDados.uf %></td>
                  <td><%= circuitoDados.circuito.status %></td>
                </tr>
                <% end %>
              </tbody>
            </table>
          </div>




        </div><!-- row -->
      </div>
    </div>
  </div>



